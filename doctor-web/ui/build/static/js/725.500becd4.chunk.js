"use strict";(self.webpackChunkdoctor_appointment_booking=self.webpackChunkdoctor_appointment_booking||[]).push([[725],{9725:(e,n,o)=>{o.r(n),o.d(n,{default:()=>We});var t=o(5043),i=o(8139),l=o.n(i),s=o(7852),a=o(579);const d=t.forwardRef(((e,n)=>{let{bsPrefix:o,fluid:t=!1,as:i="div",className:d,...r}=e;const c=(0,s.oU)(o,"container"),u="string"===typeof t?"-".concat(t):"-fluid";return(0,a.jsx)(i,{ref:n,...r,className:l()(d,t?"".concat(c).concat(u):c)})}));d.displayName="Container";const r=d;var c=o(1072),u=o(8602),v=o(5173),m=o.n(v),x=o(6350),h=o(60),g=o(8466),f=o(5901),p=o(8187);const b=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],j=["activeKey","getControlledId","getControllerId"],y=["as"];function A(e,n){if(null==e)return{};var o,t,i={},l=Object.keys(e);for(t=0;t<l.length;t++)o=l[t],n.indexOf(o)>=0||(i[o]=e[o]);return i}function E(e){let{active:n,eventKey:o,mountOnEnter:i,transition:l,unmountOnExit:s,role:a="tabpanel",onEnter:d,onEntering:r,onEntered:c,onExit:u,onExiting:v,onExited:m}=e,x=A(e,b);const h=(0,t.useContext)(g.A);if(!h)return[Object.assign({},x,{role:a}),{eventKey:o,isActive:n,mountOnEnter:i,transition:l,unmountOnExit:s,onEnter:d,onEntering:r,onEntered:c,onExit:u,onExiting:v,onExited:m}];const{activeKey:p,getControlledId:y,getControllerId:E}=h,k=A(h,j),N=(0,f.u)(o);return[Object.assign({},x,{role:a,id:y(o),"aria-labelledby":E(o)}),{eventKey:o,isActive:null==n&&null!=N?(0,f.u)(p)===N:n,transition:l||k.transition,mountOnEnter:null!=i?i:k.mountOnEnter,unmountOnExit:null!=s?s:k.unmountOnExit,onEnter:d,onEntering:r,onEntered:c,onExit:u,onExiting:v,onExited:m}]}const k=t.forwardRef(((e,n)=>{let{as:o="div"}=e,t=A(e,y);const[i,{isActive:l,onEnter:s,onEntering:d,onEntered:r,onExit:c,onExiting:u,onExited:v,mountOnEnter:m,unmountOnExit:x,transition:h=p.A}]=E(t);return(0,a.jsx)(g.A.Provider,{value:null,children:(0,a.jsx)(f.A.Provider,{value:null,children:(0,a.jsx)(h,{in:l,onEnter:s,onEntering:d,onEntered:r,onExit:c,onExiting:u,onExited:v,mountOnEnter:m,unmountOnExit:x,children:(0,a.jsx)(o,Object.assign({},i,{ref:n,hidden:!l,"aria-hidden":!l}))})})})}));k.displayName="TabPanel";const N=e=>{const{id:n,generateChildId:o,onSelect:i,activeKey:l,defaultActiveKey:s,transition:d,mountOnEnter:r,unmountOnExit:c,children:u}=e,[v,m]=(0,x.iC)(l,s,i),p=(0,h.Cc)(n),b=(0,t.useMemo)((()=>o||((e,n)=>p?"".concat(p,"-").concat(n,"-").concat(e):null)),[p,o]),j=(0,t.useMemo)((()=>({onSelect:m,activeKey:v,transition:d,mountOnEnter:r||!1,unmountOnExit:c||!1,getControlledId:e=>b(e,"tabpane"),getControllerId:e=>b(e,"tab")})),[m,v,d,r,c,b]);return(0,a.jsx)(g.A.Provider,{value:j,children:(0,a.jsx)(f.A.Provider,{value:m||null,children:u})})};N.Panel=k;const C=N;var w=o(8072);function _(e){return"boolean"===typeof e?e?w.A:p.A:e}const O=e=>{let{transition:n,...o}=e;return(0,a.jsx)(C,{...o,transition:_(n)})};O.displayName="TabContainer";const P=O,R=t.forwardRef(((e,n)=>{let{className:o,bsPrefix:t,as:i="div",...d}=e;return t=(0,s.oU)(t,"tab-content"),(0,a.jsx)(i,{ref:n,className:l()(o,t),...d})}));R.displayName="TabContent";const T=R,S=t.forwardRef(((e,n)=>{let{bsPrefix:o,transition:t,...i}=e;const[{className:d,as:r="div",...c},{isActive:u,onEnter:v,onEntering:m,onEntered:x,onExit:h,onExiting:p,onExited:b,mountOnEnter:j,unmountOnExit:y,transition:A=w.A}]=E({...i,transition:_(t)}),k=(0,s.oU)(o,"tab-pane");return(0,a.jsx)(g.A.Provider,{value:null,children:(0,a.jsx)(f.A.Provider,{value:null,children:(0,a.jsx)(A,{in:u,onEnter:v,onEntering:m,onEntered:x,onExit:h,onExiting:p,onExited:b,mountOnEnter:j,unmountOnExit:y,children:(0,a.jsx)(r,{...c,ref:n,className:l()(d,k,u&&"active")})})})})}));S.displayName="TabPane";const B=S,U={eventKey:m().oneOfType([m().string,m().number]),title:m().node.isRequired,disabled:m().bool,tabClassName:m().string,tabAttrs:m().object},I=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};I.propTypes=U;const L=Object.assign(I,{Container:P,Content:T,Pane:B});var F=o(1428),D=o(8628),K=o(3401),M=o(4282);const H=t.forwardRef(((e,n)=>{let{bsPrefix:o,bg:t="primary",pill:i=!1,text:d,className:r,as:c="span",...u}=e;const v=(0,s.oU)(o,"badge");return(0,a.jsx)(c,{ref:n,...u,className:l()(r,v,i&&"rounded-pill",d&&"text-".concat(d),t&&"bg-".concat(t))})}));H.displayName="Badge";const z=H;var Y,W=o(633),J=o(3043),V=o(8279),q=o(182),Q=o(8260);function Z(e){if((!Y&&0!==Y||e)&&V.A){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),Y=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return Y}var G=o(2667),X=o(1456),$=o(8293),ee=o(9109),ne=o(4232),oe=o(9600),te=o(5675);const ie=t.forwardRef(((e,n)=>{let{className:o,bsPrefix:t,as:i="div",...d}=e;return t=(0,s.oU)(t,"modal-body"),(0,a.jsx)(i,{ref:n,className:l()(o,t),...d})}));ie.displayName="ModalBody";const le=ie;var se=o(1602);const ae=t.forwardRef(((e,n)=>{let{bsPrefix:o,className:t,contentClassName:i,centered:d,size:r,fullscreen:c,children:u,scrollable:v,...m}=e;o=(0,s.oU)(o,"modal");const x="".concat(o,"-dialog"),h="string"===typeof c?"".concat(o,"-fullscreen-").concat(c):"".concat(o,"-fullscreen");return(0,a.jsx)("div",{...m,ref:n,className:l()(x,t,r&&"".concat(o,"-").concat(r),d&&"".concat(x,"-centered"),v&&"".concat(x,"-scrollable"),c&&h),children:(0,a.jsx)("div",{className:l()("".concat(o,"-content"),i),children:u})})}));ae.displayName="ModalDialog";const de=ae,re=t.forwardRef(((e,n)=>{let{className:o,bsPrefix:t,as:i="div",...d}=e;return t=(0,s.oU)(t,"modal-footer"),(0,a.jsx)(i,{ref:n,className:l()(o,t),...d})}));re.displayName="ModalFooter";const ce=re;var ue=o(2258);const ve=t.forwardRef(((e,n)=>{let{bsPrefix:o,className:t,closeLabel:i="Close",closeButton:d=!1,...r}=e;return o=(0,s.oU)(o,"modal-header"),(0,a.jsx)(ue.A,{ref:n,...r,className:l()(t,o),closeLabel:i,closeButton:d})}));ve.displayName="ModalHeader";const me=ve;var xe=o(4488);const he=(0,xe.A)("h4"),ge=t.forwardRef(((e,n)=>{let{className:o,bsPrefix:t,as:i=he,...d}=e;return t=(0,s.oU)(t,"modal-title"),(0,a.jsx)(i,{ref:n,className:l()(o,t),...d})}));ge.displayName="ModalTitle";const fe=ge;function pe(e){return(0,a.jsx)(w.A,{...e,timeout:null})}function be(e){return(0,a.jsx)(w.A,{...e,timeout:null})}const je=t.forwardRef(((e,n)=>{let{bsPrefix:o,className:i,style:d,dialogClassName:r,contentClassName:c,children:u,dialogAs:v=de,"data-bs-theme":m,"aria-labelledby":x,"aria-describedby":h,"aria-label":g,show:f=!1,animation:p=!0,backdrop:b=!0,keyboard:j=!0,onEscapeKeyDown:y,onShow:A,onHide:E,container:k,autoFocus:N=!0,enforceFocus:C=!0,restoreFocus:w=!0,restoreFocusOptions:_,onEntered:O,onExit:P,onExiting:R,onEnter:T,onEntering:S,onExited:B,backdropClassName:U,manager:I,...L}=e;const[F,D]=(0,t.useState)({}),[K,M]=(0,t.useState)(!1),H=(0,t.useRef)(!1),z=(0,t.useRef)(!1),Y=(0,t.useRef)(null),[W,ie]=(0,G.A)(),le=(0,$.A)(n,ie),ae=(0,X.A)(E),re=(0,s.Wz)();o=(0,s.oU)(o,"modal");const ce=(0,t.useMemo)((()=>({onHide:ae})),[ae]);function ue(){return I||(0,te.R)({isRTL:re})}function ve(e){if(!V.A)return;const n=ue().getScrollbarWidth()>0,o=e.scrollHeight>(0,q.A)(e).documentElement.clientHeight;D({paddingRight:n&&!o?Z():void 0,paddingLeft:!n&&o?Z():void 0})}const me=(0,X.A)((()=>{W&&ve(W.dialog)}));(0,ee.A)((()=>{(0,Q.A)(window,"resize",me),null==Y.current||Y.current()}));const xe=()=>{H.current=!0},he=e=>{H.current&&W&&e.target===W.dialog&&(z.current=!0),H.current=!1},ge=()=>{M(!0),Y.current=(0,ne.A)(W.dialog,(()=>{M(!1)}))},fe=e=>{"static"!==b?z.current||e.target!==e.currentTarget?z.current=!1:null==E||E():(e=>{e.target===e.currentTarget&&ge()})(e)},je=(0,t.useCallback)((e=>(0,a.jsx)("div",{...e,className:l()("".concat(o,"-backdrop"),U,!p&&"show")})),[p,U,o]),ye={...d,...F};ye.display="block";return(0,a.jsx)(se.A.Provider,{value:ce,children:(0,a.jsx)(oe.A,{show:f,ref:le,backdrop:b,container:k,keyboard:!0,autoFocus:N,enforceFocus:C,restoreFocus:w,restoreFocusOptions:_,onEscapeKeyDown:e=>{j?null==y||y(e):(e.preventDefault(),"static"===b&&ge())},onShow:A,onHide:E,onEnter:(e,n)=>{e&&ve(e),null==T||T(e,n)},onEntering:(e,n)=>{null==S||S(e,n),(0,J.Ay)(window,"resize",me)},onEntered:O,onExit:e=>{null==Y.current||Y.current(),null==P||P(e)},onExiting:R,onExited:e=>{e&&(e.style.display=""),null==B||B(e),(0,Q.A)(window,"resize",me)},manager:ue(),transition:p?pe:void 0,backdropTransition:p?be:void 0,renderBackdrop:je,renderDialog:e=>(0,a.jsx)("div",{role:"dialog",...e,style:ye,className:l()(i,o,K&&"".concat(o,"-static"),!p&&"show"),onClick:b?fe:void 0,onMouseUp:he,"data-bs-theme":m,"aria-label":g,"aria-labelledby":x,"aria-describedby":h,children:(0,a.jsx)(v,{...L,onMouseDown:xe,className:r,contentClassName:c,children:u})})})})}));je.displayName="Modal";const ye=Object.assign(je,{Body:le,Header:me,Title:fe,Footer:ce,Dialog:de,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var Ae=o(6867);const Ee=function(e){let{open:n,type:o,title:i,body:l,loading:s=!1,disable:d=!1,confirmButton:r,onConfirm:c,closeButton:u,onClose:v,children:m}=e;const[x,h]=(0,t.useState)(n),g=()=>{v&&v(!1)};return(0,t.useEffect)((()=>{h(n)}),[n]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(ye,{show:x,onHide:g,backdrop:"static",keyboard:!1,children:[(0,a.jsx)(ye.Header,{closeButton:!0,children:(0,a.jsx)(ye.Title,{children:i})}),(0,a.jsx)(ye.Body,{children:l||m}),(0,a.jsxs)(ye.Footer,{children:[(0,a.jsx)(M.A,{variant:"secondary",onClick:g,children:null!==u&&void 0!==u?u:"Close"}),(0,a.jsx)(M.A,{variant:o||"primary",disabled:d,onClick:()=>{h(!1),c&&c(!1)},children:(0,a.jsx)(Ae.A,{loading:s,children:r})})]})]})})};var ke=o(7390),Ne=o(1089);function Ce(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.Jy,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.ff;const t=[];return Object.entries(e).forEach((e=>{let[i,l]=e;null!=l&&("object"===typeof l?n.forEach((e=>{const n=l[e];if(null!=n){const l=e!==o?"-".concat(e):"";t.push("".concat(i).concat(l,"-").concat(n))}})):t.push("".concat(i,"-").concat(l)))})),t}const we=t.forwardRef(((e,n)=>{let{as:o="div",bsPrefix:t,className:i,direction:d,gap:r,...c}=e;t=(0,s.oU)(t,"horizontal"===d?"hstack":"vstack");const u=(0,s.gy)(),v=(0,s.Jm)();return(0,a.jsx)(o,{...c,ref:n,className:l()(i,t,...Ce({gap:r},u,v))})}));we.displayName="Stack";const _e=we;var Oe=o(6522),Pe=o(1969);const Re=(0,xe.A)("h4");Re.displayName="DivStyledAsH4";const Te=t.forwardRef(((e,n)=>{let{className:o,bsPrefix:t,as:i=Re,...d}=e;return t=(0,s.oU)(t,"alert-heading"),(0,a.jsx)(i,{ref:n,className:l()(o,t),...d})}));Te.displayName="AlertHeading";const Se=Te;var Be=o(6161);const Ue=t.forwardRef(((e,n)=>{let{className:o,bsPrefix:t,as:i=Be.A,...d}=e;return t=(0,s.oU)(t,"alert-link"),(0,a.jsx)(i,{ref:n,className:l()(o,t),...d})}));Ue.displayName="AlertLink";const Ie=Ue;var Le=o(5632);const Fe=t.forwardRef(((e,n)=>{const{bsPrefix:o,show:t=!0,closeLabel:i="Close alert",closeVariant:d,className:r,children:c,variant:u="primary",onClose:v,dismissible:m,transition:x=w.A,...h}=(0,Pe.Zw)(e,{show:"onClose"}),g=(0,s.oU)(o,"alert"),f=(0,X.A)((e=>{v&&v(!1,e)})),p=!0===x?w.A:x,b=(0,a.jsxs)("div",{role:"alert",...p?void 0:h,ref:n,className:l()(r,g,u&&"".concat(g,"-").concat(u),m&&"".concat(g,"-dismissible")),children:[m&&(0,a.jsx)(Le.A,{onClick:f,"aria-label":i,variant:d}),c]});return p?(0,a.jsx)(p,{unmountOnExit:!0,...h,ref:void 0,in:t,children:b}):t?b:null}));Fe.displayName="Alert";const De=Object.assign(Fe,{Link:Ie,Heading:Se}),Ke=e=>{let{slot:n}=e;return(0,a.jsxs)(_e,{direction:"horizontal",gap:2,children:[(0,a.jsx)(z,{bg:"secondary",children:(0,Ne.fU)(null===n||void 0===n?void 0:n.start_time)}),(0,a.jsx)("span",{children:" - "}),(0,a.jsx)(z,{bg:"secondary",children:(0,Ne.fU)(null===n||void 0===n?void 0:n.end_time)})]})},Me=e=>{var n,o;let{booking:i}=e;const[l,s]=(0,t.useState)(!0),[d,r]=(0,t.useState)({valid:!0}),[v,m]=(0,t.useState)({booking_id:null===i||void 0===i?void 0:i.booking_id,date:null===i||void 0===i?void 0:i.date,slot_id:null===i||void 0===i||null===(n=i.slot)||void 0===n?void 0:n.slot_id}),{data:x,isLoading:h,isFetching:g}=(0,ke.eI)({date:null===v||void 0===v?void 0:v.date}),[f,p]=(0,ke.JB)();(0,t.useEffect)((()=>{if(Array.isArray(x)&&null!==x&&void 0!==x&&x.length){const e=x.find((e=>{var n;return(null===e||void 0===e?void 0:e.slot_id)===(null===i||void 0===i||null===(n=i.slot)||void 0===n?void 0:n.slot_id)}));m({...v,slot_id:null===e||void 0===e?void 0:e.slot_id})}else m({...v,slot_id:null})}),[x,null===i||void 0===i||null===(o=i.slot)||void 0===o?void 0:o.slot_id,v]);const b=(e,n)=>{var o;let t={...v};t=null!==n&&void 0!==n&&null!==(o=n.target)&&void 0!==o&&o.value?{...v,[e]:n.target.value}:e&&n?{...v,[e]:n}:{...v,...e},m(t),j(t)},j=e=>{let{...n}=e,o=!0;if(r({valid:o}),null!==n&&void 0!==n&&n.date){const e=new Date;new Date(null===n||void 0===n?void 0:n.date)>=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),0,0,0)||(o=!1,r({...d,valid:o,date:"Please select valid date"}))}else o=!1,r({...d,valid:o,date:"Please select booking date"});return null===x||void 0===x||!x.length||null!==n&&void 0!==n&&n.slot_id||(o=!1,r({...d,valid:o,slot:"Please select booking slot"})),o};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(ye,{show:l,onHide:()=>s(!1),backdrop:"static",keyboard:!1,children:[(0,a.jsx)(ye.Header,{closeButton:!0,children:(0,a.jsx)(ye.Title,{children:"Reschedule Booking"})}),(0,a.jsx)(ye.Body,{children:(0,a.jsxs)(Oe.A,{noValidate:!0,validated:d.valid,children:[(0,a.jsx)(Oe.A.Control,{type:"date",value:null===v||void 0===v?void 0:v.date,onChange:e=>b("date",e),isInvalid:!(null===d||void 0===d||!d.date)}),(null===d||void 0===d?void 0:d.date)&&(0,a.jsx)(Oe.A.Control.Feedback,{type:"invalid",children:d.date}),h||g?(0,a.jsx)(Ae.A,{loading:h||g,children:" "}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.A,{className:"mt-3",children:(0,a.jsx)(u.A,{xs:12,children:(0,a.jsx)(Oe.A.Label,{className:"text-capitalize",children:null!==x&&void 0!==x&&x.length?null===x||void 0===x?void 0:x[0].day:(0,a.jsx)(De,{variant:"warning",children:"No availability slot found. Set slot from Availability option."},"warning")})})}),(x||[]).map((e=>(0,a.jsx)(c.A,{children:(0,a.jsx)(u.A,{xs:12,children:(0,a.jsx)(Oe.A.Check,{disabled:!1,checked:(null===v||void 0===v?void 0:v.slot_id)===(null===e||void 0===e?void 0:e.slot_id),type:"radio",onChange:()=>b("slot_id",null===e||void 0===e?void 0:e.slot_id),label:(0,a.jsx)(Ke,{slot:e}),id:null===e||void 0===e?void 0:e.slot_id,isInvalid:!0})})}))),(null===d||void 0===d?void 0:d.slot)&&(0,a.jsx)("span",{className:"text-danger",style:{fontSize:".87rem"},children:d.slot})]})]})}),(0,a.jsxs)(ye.Footer,{children:[(0,a.jsx)(M.A,{variant:"secondary",onClick:()=>s(!1),children:"Close"}),(0,a.jsx)(M.A,{variant:"primary",disabled:h||g||(null===p||void 0===p?void 0:p.isLoading)||!(null!==v&&void 0!==v&&v.slot_id),onClick:async()=>{if(j(v)){const e=v.booking_id;delete v.booking_id,await f({id:e,data:v}),s(!1)}},children:(0,a.jsx)(Ae.A,{loading:null===p||void 0===p?void 0:p.isLoading,children:"Reschedule"})})]})]})})},He=e=>{var n,o,i,l,s,d;let{booking:r}=e;const[v,m]=(0,ke.JB)(),[x,h]=(0,t.useState)({title:"",open:!1,action:""}),g=e=>{const n={id:null===r||void 0===r?void 0:r.booking_id,data:{status:e}};v(n),h((e=>({...e,open:!1})))},f=()=>{let e=null;switch(null===r||void 0===r?void 0:r.status){case"pending":e=(0,Ne.I4)(null===r||void 0===r?void 0:r.date)?(0,a.jsx)(M.A,{variant:"primary",className:"ms-2",size:"sm",onClick:()=>h({open:!0,title:"Reschedule Booking",children:"Are you sure want to reschedule this booking?",confirmButton:"Yes, Reschedule",onConfirm:()=>h({open:!1,action:"reschedule"})}),children:(0,a.jsx)(Ae.A,{loading:(null===m||void 0===m?void 0:m.isLoading)&&"reschedule"===(null===h||void 0===h?void 0:h.action),children:"Reschedule"})}):(0,a.jsx)(M.A,{variant:"primary",className:"ms-2",size:"sm",onClick:()=>h({open:!0,title:"Confirm Booking",body:"Are you sure want to confirm this booking?",confirmButton:"Yes, Confirm",onConfirm:()=>g("confirmed"),action:"confirmed"}),children:(0,a.jsx)(Ae.A,{loading:(null===m||void 0===m?void 0:m.isLoading)&&"confirmed"===(null===x||void 0===x?void 0:x.action),children:"Confirm"})});break;case"confirmed":const n=(0,Ne.I4)(null===r||void 0===r?void 0:r.date);e=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M.A,{variant:"primary",className:n?"ms-2 mb-2":"ms-2",size:"sm",onClick:()=>h({open:!0,title:"Reschedule Booking",confirmButton:"Yes, Reschedule",children:"Are you sure want to reschedule this booking?",onConfirm:()=>h({open:!1,action:"reschedule"})}),children:(0,a.jsx)(Ae.A,{loading:(null===m||void 0===m?void 0:m.isLoading)&&"reschedule"===(null===x||void 0===x?void 0:x.action),children:"Reschedule"})}),n&&(0,a.jsx)(M.A,{variant:"primary",className:"ms-2 mb-2",size:"sm",onClick:()=>h({open:!0,title:"Completed Booking",confirmButton:"Yes, Completed",children:"Are you sure want to completed this booking?",onConfirm:()=>g("completed"),action:"completed"}),children:(0,a.jsx)(Ae.A,{loading:(null===m||void 0===m?void 0:m.isLoading)&&"completed"===(null===x||void 0===x?void 0:x.action),children:"Completed"})})]});break;case"canceled":e=(0,a.jsx)(M.A,{variant:"primary",className:"ms-2",size:"sm",onClick:()=>h({open:!0,title:"Resume Booking",body:"Are you sure want to resume this booking?",confirmButton:"Yes, Resume",onConfirm:()=>g("pending"),action:"pending"}),children:(0,a.jsx)(Ae.A,{loading:(null===m||void 0===m?void 0:m.isLoading)&&"pending"===(null===x||void 0===x?void 0:x.action),children:"Resume"})});break;default:e=null}return e||(0,a.jsx)(a.Fragment,{})};return(0,a.jsxs)(D.A,{className:"mb-3",style:{width:"100%"},children:["reschedule"===(null===x||void 0===x?void 0:x.action)?(0,a.jsx)(Me,{booking:r}):(0,a.jsx)(Ee,{...x,onClose:()=>h({open:!1}),children:null===x||void 0===x?void 0:x.children}),(0,a.jsx)(D.A.Body,{children:(0,a.jsxs)(c.A,{children:[(0,a.jsxs)(u.A,{xs:8,children:[(0,a.jsx)(D.A.Title,{className:"card-title",children:null===r||void 0===r?void 0:r.customer.display_name}),(0,a.jsxs)(D.A.Text,{className:"card-text",children:[r.date,","," ",(0,a.jsx)("span",{className:"text-capitalize",children:null===r||void 0===r||null===(n=r.slot)||void 0===n?void 0:n.day}),","," ",(0,Ne.fU)(null===r||void 0===r||null===(o=r.slot)||void 0===o?void 0:o.start_time)," -"," ",(0,Ne.fU)(null===r||void 0===r||null===(i=r.slot)||void 0===i?void 0:i.end_time)]}),(0,a.jsxs)(D.A.Text,{className:"card-text",children:[null===r||void 0===r||null===(l=r.service)||void 0===l?void 0:l.name," - (",W.T,null===r||void 0===r||null===(s=r.service)||void 0===s?void 0:s.price_amount,")",(0,a.jsx)("br",{}),"Payment: ",(0,a.jsx)(z,{children:null===r||void 0===r||null===(d=r.payment)||void 0===d?void 0:d.status})]})]}),(0,a.jsxs)(u.A,{xs:4,className:"text-right",children:[(0,a.jsx)(f,{}),["pending","confirmed"].includes(null===r||void 0===r?void 0:r.status)&&(0,a.jsx)(M.A,{variant:"danger",className:"ms-2",size:"sm",onClick:()=>{h({open:!0,type:"danger",title:"Cancel Booking",confirmButton:"Yes, Cancel",body:"Are you sure want to cancel this booking?",onConfirm:()=>{g("canceled")},action:"canceled"})},children:(0,a.jsx)(Ae.A,{loading:(null===m||void 0===m?void 0:m.isLoading)&&"canceled"===(null===x||void 0===x?void 0:x.action),children:"Cancel"})})]})]})})]})};var ze=o(1685);const Ye=e=>{let{title:n}=e;return(0,a.jsx)(D.A,{className:"text-center p-4",style:{minHeight:"300px",minWidth:"400px"},children:(0,a.jsxs)(D.A.Body,{children:[(0,a.jsxs)(D.A.Title,{children:["No ",n," bookings"]}),(0,a.jsxs)(D.A.Text,{children:["You have no ",n," bookings. As soon as someone books a time with you it will show up here."]})]})})},We=()=>{var e,n,o,i,l,s,d,v;const[m,x]=(0,t.useState)("upcoming"),[h,g]=(0,t.useState)({upcoming:[],pending:[],completed:[],canceled:[]}),{data:f,isLoading:p,isFetching:b}=(0,ke.aE)({});return(0,t.useEffect)((()=>{if(f){const e=f.filter((e=>"confirmed"===(null===e||void 0===e?void 0:e.status))),n=f.filter((e=>"pending"===(null===e||void 0===e?void 0:e.status))),o=f.filter((e=>"completed"===(null===e||void 0===e?void 0:e.status))),t=f.filter((e=>"canceled"===(null===e||void 0===e?void 0:e.status)));g({upcoming:e,pending:n,completed:o,canceled:t})}}),[f]),(0,a.jsx)("div",{id:"booking",children:(0,a.jsxs)(r,{className:"container mt-4 d-flex flex-column justify-content-center align-items-center",children:[(0,a.jsx)(K.N9,{}),(0,a.jsx)(ze.A,{loading:p||b}),(0,a.jsx)(c.A,{className:"justify-content-center",style:{width:"100%"},children:(0,a.jsxs)(u.A,{xs:6,children:[(0,a.jsx)("h1",{className:"mb-4",children:"Bookings"}),(0,a.jsx)("p",{children:"See upcoming and past events booked through your event type links."})]})}),(0,a.jsx)(c.A,{className:"justify-content-center",style:{width:"100%"},children:(0,a.jsx)(u.A,{xs:8,children:(0,a.jsxs)(L.Container,{id:"bookings-tabs",activeKey:m,onSelect:e=>x(e),children:[(0,a.jsxs)(F.A,{variant:"tabs",className:"mb-3",children:[(0,a.jsx)(F.A.Item,{children:(0,a.jsxs)(F.A.Link,{eventKey:"upcoming",children:["Upcoming (",null===h||void 0===h||null===(e=h.upcoming)||void 0===e?void 0:e.length,")"]})}),(0,a.jsx)(F.A.Item,{children:(0,a.jsxs)(F.A.Link,{eventKey:"unconfirmed",children:["Unconfirmed (",null===h||void 0===h||null===(n=h.pending)||void 0===n?void 0:n.length,")"]})}),(0,a.jsx)(F.A.Item,{children:(0,a.jsxs)(F.A.Link,{eventKey:"past",children:["Past / Completed (",null===h||void 0===h||null===(o=h.completed)||void 0===o?void 0:o.length,")"]})}),(0,a.jsx)(F.A.Item,{children:(0,a.jsxs)(F.A.Link,{eventKey:"canceled",children:["Canceled (",null===h||void 0===h||null===(i=h.canceled)||void 0===i?void 0:i.length,")"]})})]}),(0,a.jsxs)(L.Content,{children:[(0,a.jsx)(L.Pane,{eventKey:"upcoming",children:(null===h||void 0===h||null===(l=h.upcoming)||void 0===l?void 0:l.length)>0?null===h||void 0===h?void 0:h.upcoming.map((e=>(0,a.jsx)(He,{booking:e},e.booking_id))):(0,a.jsx)(Ye,{title:"upcoming"})}),(0,a.jsx)(L.Pane,{eventKey:"unconfirmed",children:(null===h||void 0===h||null===(s=h.pending)||void 0===s?void 0:s.length)>0?null===h||void 0===h?void 0:h.pending.map((e=>(0,a.jsx)(He,{booking:e},e.booking_id))):(0,a.jsx)(Ye,{title:"unconfirmed"})}),(0,a.jsx)(L.Pane,{eventKey:"past",children:(null===h||void 0===h||null===(d=h.completed)||void 0===d?void 0:d.length)>0?null===h||void 0===h?void 0:h.completed.map((e=>(0,a.jsx)(He,{booking:e},e.booking_id))):(0,a.jsx)(Ye,{title:"completed"})}),(0,a.jsx)(L.Pane,{eventKey:"canceled",children:(null===h||void 0===h||null===(v=h.canceled)||void 0===v?void 0:v.length)>0?null===h||void 0===h?void 0:h.canceled.map((e=>(0,a.jsx)(He,{booking:e},e.booking_id))):(0,a.jsx)(Ye,{title:"canceled"})})]})]})})})]})})}},6867:(e,n,o)=>{o.d(n,{A:()=>l});var t=o(4201),i=o(579);function l(e){return null!==e&&void 0!==e&&e.children?(0,i.jsxs)("div",{className:"d-flex flex-col justify-content-center align-items-center gap-1",children:[(0,i.jsx)(t.A,{height:25,color:"#18A0FB",...e}),(0,i.jsx)("strong",{children:null===e||void 0===e?void 0:e.children})]}):(0,i.jsx)(t.A,{height:25,color:"#18A0FB",...e})}},1089:(e,n,o)=>{o.d(n,{I4:()=>i,Qj:()=>s,fU:()=>t,pP:()=>l});const t=e=>{if(!e)return"00:00";let[n,o]=null===e||void 0===e?void 0:e.split(":");const t=n<12?"AM":"PM";return n=n%12||12,"".concat(n.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0")," ").concat(t)},i=e=>{const n=new Date,o=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()));return(e=new Date(e)).toISOString()<o.toISOString()},l=e=>{const n=[],o=new Date(0,0,0,0,"start"===e?0:30,0),t=new Date(0,0,0,"start"===e?23:24,"start"===e?30:0,0);for(;o<=t;){const e=o.getHours()%12||12,t=o.getMinutes().toString().padStart(2,"0"),i=o.getHours()<12?"AM":"PM";n.push({value:"".concat(o.getHours(),":").concat(t),label:"".concat(e.toString().padStart(2,0),":").concat(t," ").concat(i)}),o.setMinutes(o.getMinutes()+30)}return n},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const n=[];for(const l of e){var o,i;if(n[null===l||void 0===l||null===(o=l.day)||void 0===o?void 0:o.toLocaleLowerCase()])n[null===l||void 0===l?void 0:l.day].timeSlots.push({...l,start:{value:null===l||void 0===l?void 0:l.start_time,label:t(null===l||void 0===l?void 0:l.start_time)},end:{value:null===l||void 0===l?void 0:l.end_time,label:t(null===l||void 0===l?void 0:l.end_time)}});else n[null===l||void 0===l||null===(i=l.day)||void 0===i?void 0:i.toLocaleLowerCase()]={enabled:!0,day:null===l||void 0===l?void 0:l.day,timeSlots:[{...l,start:{value:null===l||void 0===l?void 0:l.start_time,label:t(null===l||void 0===l?void 0:l.start_time)},end:{value:null===l||void 0===l?void 0:l.end_time,label:t(null===l||void 0===l?void 0:l.end_time)}}]}}return n}}}]);
//# sourceMappingURL=725.500becd4.chunk.js.map