"use strict";(self.webpackChunkdoctor_appointment_booking=self.webpackChunkdoctor_appointment_booking||[]).push([[530],{7514:(e,s,i)=>{i.d(s,{A:()=>a});i(5043);var l=i(579);const a=e=>{let{consultations:s,showTitle:i=!0,maxItems:a=null}=e;const n=a?s.slice(0,a):s;return(0,l.jsxs)("div",{className:"consultation-list-container",children:[i&&(0,l.jsx)("h5",{children:"Consultation Services"}),(0,l.jsx)("div",{className:"consultations-wrapper",children:n&&n.length>0?n.map((e=>(0,l.jsx)("div",{className:"consultation-item",children:(0,l.jsxs)("div",{className:"consultation-info",children:[(0,l.jsx)("h6",{className:"consultation-name",children:e.name}),(0,l.jsxs)("div",{className:"consultation-details",children:[(0,l.jsxs)("span",{className:"consultation-duration",children:[(0,l.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[(0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67V7z",fill:"currentColor"})]}),e.duration]}),(0,l.jsxs)("span",{className:"consultation-price",children:["\u20b9",e.price]})]}),e.description&&(0,l.jsx)("p",{className:"consultation-description",children:e.description})]})},e.id))):(0,l.jsxs)("div",{className:"empty-consultations",children:[(0,l.jsx)("p",{children:"No consultation services created yet."}),(0,l.jsx)("small",{children:"Create your first consultation service to get started."})]})}),s.length>a&&a&&(0,l.jsx)("div",{className:"more-consultations",children:(0,l.jsxs)("small",{children:["+",s.length-a," more services"]})})]})}},7530:(e,s,i)=>{i.r(s),i.d(s,{default:()=>h});var l=i(5043),a=(i(8421),i(3204)),n=i(1660),t=i(3003),o=i(3401),r=i(4201),c=i(4749),d=i(9369),p=i(7514),m=i(579);const h=()=>{var e,s,i,h,u,x;const v=(0,t.wA)(),[j,f]=(0,l.useState)(null),[g,N]=(0,l.useState)(!1),[y,b]=(0,l.useState)(""),[_,C]=(0,l.useState)({display_name:"",title:"",hospital_name:"",expertiseList:[],experience:"",bio:"",photoUrl:"",phone:"",gender:"",location:{address:"",city:"",state:"",country:""}}),[w,S]=(0,l.useState)(""),{user:L,error:E,loading:F}=(0,t.d4)((e=>null===e||void 0===e?void 0:e.auth)),{data:A,isLoading:k}=(0,c.X1)({}),{consultations:U}=(0,d.M)();(0,l.useEffect)((()=>{v((0,n.l2)())}),[v]),(0,l.useEffect)((()=>{var e,s,i,l;(!F&&E&&(0,o.oR)(E.message),!L||E||F)||(f(L),C({display_name:L.display_name,title:L.title,hospital_name:L.hospital_name,expertiseList:L.expertiseList,experience:L.experience,bio:L.bio,photoUrl:"",phone:L.phone,gender:L.gender,services:A,location:{address:null===(e=L.location)||void 0===e?void 0:e.address,city:null===(s=L.location)||void 0===s?void 0:s.city,state:null===(i=L.location)||void 0===i?void 0:i.state,country:null===(l=L.location)||void 0===l?void 0:l.country}}),S(null===L||void 0===L?void 0:L.photoUrl));A&&C((e=>({...e,services:A})))}),[L,E,F,A]);const D=e=>{const{name:s,value:i}=e.target;"expertiseList"===s?C({..._,expertiseList:[..._.expertiseList,i]}):["address","state","city","country"].includes(s)?C({..._,location:{..._.location,[s]:i}}):C("services"===s?{..._,servicesIds:[...i]}:{..._,[s]:i})};return F||k?(0,m.jsx)("div",{className:"flex text-center justify-center",children:(0,m.jsx)(r.A,{size:150,color:"#18A0FB",loading:F})}):(0,m.jsx)("div",{id:"profile",children:(0,m.jsxs)("div",{className:"container",children:[(0,m.jsx)(o.N9,{}),(0,m.jsx)("div",{className:"row justify-content-center mt-4 center",children:(0,m.jsx)("div",{className:"col-md-10",children:(0,m.jsx)("div",{className:"card shadow-sm",children:(0,m.jsx)("div",{className:"card-body",children:g?(0,m.jsxs)("form",{onSubmit:async e=>{var s,i;e.preventDefault();const l=new FormData;l.append("display_name",String(_.display_name)),l.append("title",String(_.title)),l.append("phone",String(_.phone)),l.append("gender",String(_.gender)),l.append("bio",String(_.bio)),l.append("experience",Number(_.experience)),l.append("hospital_name",String(_.hospital_name)),_.location&&l.append("location",JSON.stringify(_.location)),null===_||void 0===_||null===(s=_.servicesIds)||void 0===s||s.forEach((e=>l.append("services[]",e))),null===_||void 0===_||null===(i=_.expertiseList)||void 0===i||i.forEach((e=>l.append("expertiseList[]",e))),_.photoUrl&&l.append("file",_.photoUrl);try{v((0,n.eg)(l)),N(!1)}catch(E){console.error("Updating profile failed:",E),400===(null===E||void 0===E?void 0:E.statusCode)?o.oR.error(E.message):o.oR.error("An error occurred while updating your profile.")}},encType:"multipart/form-data",className:"profile-form",children:[(0,m.jsx)("div",{className:"profile-image-edit-section",children:(0,m.jsxs)("div",{className:"current-profile-image",children:[(0,m.jsx)("img",{src:w||"/placeholder.png",alt:"Current profile",className:"edit-profile-image"}),(0,m.jsxs)("div",{className:"image-edit-overlay",children:[(0,m.jsxs)("label",{htmlFor:"file",className:"image-edit-btn",children:[(0,m.jsx)(a.uO9,{})," Change Photo"]}),(0,m.jsx)("input",{type:"file",className:"hidden-file-input",id:"file",name:"file",onChange:e=>{C((s=>({...s,photoUrl:e.target.files[0]})))},accept:"image/*"})]})]})}),(0,m.jsxs)("div",{className:"form-row",children:[(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{htmlFor:"display_name",children:"Full Name"}),(0,m.jsx)("input",{type:"text",className:"form-control",id:"display_name",name:"display_name",value:(null===_||void 0===_?void 0:_.display_name)||"",onChange:D,placeholder:"Enter name"})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{htmlFor:"title",children:"Designation/Title"}),(0,m.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:(null===_||void 0===_?void 0:_.title)||"",onChange:D,placeholder:"Enter title"})]})]}),(0,m.jsxs)("div",{className:"form-row",children:[(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,m.jsx)("input",{type:"tel",className:"form-control",id:"phone",name:"phone",value:(null===_||void 0===_?void 0:_.phone)||"",onChange:D,placeholder:"Enter phone number"})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{htmlFor:"gender",children:"Gender"}),(0,m.jsxs)("select",{className:"form-control",id:"gender",name:"gender",value:(null===_||void 0===_?void 0:_.gender)||"",onChange:D,children:[(0,m.jsx)("option",{value:"",children:"Select gender"}),(0,m.jsx)("option",{value:"male",children:"Male"}),(0,m.jsx)("option",{value:"female",children:"Female"}),(0,m.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,m.jsxs)("div",{className:"form-group full-width",children:[(0,m.jsx)("label",{htmlFor:"bio",children:"Bio"}),(0,m.jsx)("textarea",{className:"form-control",id:"bio",name:"bio",value:(null===_||void 0===_?void 0:_.bio)||"",onChange:D,placeholder:"Tell us about yourself"})]}),(0,m.jsxs)("div",{className:"form-row",children:[(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{htmlFor:"experience",children:"Experience (Years)"}),(0,m.jsx)("input",{type:"text",className:"form-control",id:"experience",name:"experience",value:(null===_||void 0===_?void 0:_.experience)||"",onChange:D,placeholder:"Enter experience"})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{htmlFor:"hospital_name",children:"Hospital/Clinic Name"}),(0,m.jsx)("input",{type:"text",className:"form-control",id:"hospital_name",name:"hospital_name",value:(null===_||void 0===_?void 0:_.hospital_name)||"",onChange:D,placeholder:"Enter hospital or clinic name"})]})]}),(0,m.jsxs)("div",{className:"form-group full-width",children:[(0,m.jsx)("label",{htmlFor:"expertiseList",children:"Specialty/Expertise"}),(0,m.jsxs)("div",{className:"tags-input-wrapper",children:[(0,m.jsx)("div",{className:"tags",children:Array.isArray(null===_||void 0===_?void 0:_.expertiseList)&&_.expertiseList.map(((e,s)=>(0,m.jsxs)("div",{className:"tag",children:[e,(0,m.jsx)("span",{className:"remove-tag",onClick:()=>{return e=s,void C({..._,expertiseList:_.expertiseList.filter(((s,i)=>i!==e))});var e},children:"x"})]},s)))}),(0,m.jsx)("input",{type:"text",value:y,onChange:e=>b(e.target.value),onKeyDown:e=>{var s;"Enter"===e.key&&""!==y.trim()&&(e.preventDefault(),C({..._,expertiseList:null!==(s=_.expertiseList)&&void 0!==s&&s.length?[..._.expertiseList,y.trim()]:[y.trim()]}),b(""))},placeholder:"Press enter to add tags",className:"tagsInput"})]})]}),(0,m.jsxs)("div",{className:"form-section",children:[(0,m.jsx)("h5",{className:"section-title",children:"Address Information"}),(0,m.jsxs)("div",{className:"form-group full-width",children:[(0,m.jsx)("label",{htmlFor:"location_address",children:"Street Address"}),(0,m.jsx)("input",{type:"text",className:"form-control",id:"location_address",name:"address",value:(null===_||void 0===_||null===(e=_.location)||void 0===e?void 0:e.address)||"",onChange:D,placeholder:"Enter Address"})]}),(0,m.jsxs)("div",{className:"form-row",children:[(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{htmlFor:"location_city",children:"City"}),(0,m.jsx)("input",{type:"text",className:"form-control",id:"location_city",name:"city",value:(null===_||void 0===_||null===(s=_.location)||void 0===s?void 0:s.city)||"",onChange:D,placeholder:"Enter city"})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{htmlFor:"location_state",children:"State"}),(0,m.jsx)("input",{type:"text",className:"form-control",id:"location_state",name:"state",value:(null===_||void 0===_||null===(i=_.location)||void 0===i?void 0:i.state)||"",onChange:D,placeholder:"Enter state"})]})]}),(0,m.jsxs)("div",{className:"form-group full-width",children:[(0,m.jsx)("label",{htmlFor:"country",children:"Country"}),(0,m.jsx)("input",{type:"text",className:"form-control",id:"country",name:"country",value:(null===_||void 0===_||null===(h=_.location)||void 0===h?void 0:h.country)||"",onChange:D,placeholder:"Enter country"})]})]}),(0,m.jsxs)("div",{className:"form-group divided",children:[(0,m.jsx)("button",{type:"button",onClick:()=>N(!1),className:"btn btn-secondary cancel",children:"Cancel"}),(0,m.jsx)("button",{type:"submit",className:"btn btn-primary save",children:"Save"})]})]}):(0,m.jsxs)("div",{className:"profile-horizontal-layout",children:[(0,m.jsx)("div",{className:"profile-image-section",children:(0,m.jsx)("img",{src:w||"/placeholder.png",alt:"Doctor's profile",className:"profile-image"})}),(0,m.jsxs)("div",{className:"profile-info-section",children:[(0,m.jsxs)("div",{className:"profile-header",children:[(0,m.jsx)("h2",{className:"profile-name",children:null===j||void 0===j?void 0:j.display_name}),(0,m.jsx)("h4",{className:"profile-title",children:null===j||void 0===j?void 0:j.title}),(null===j||void 0===j?void 0:j.hospital_name)&&(0,m.jsx)("h5",{className:"profile-hospital",children:null===j||void 0===j?void 0:j.hospital_name}),(0,m.jsx)("div",{className:"profile-experience",children:(0,m.jsxs)("span",{className:"experience-badge",children:[null===j||void 0===j?void 0:j.experience,"+ years experience"]})})]}),(0,m.jsx)("div",{className:"profile-bio",children:(0,m.jsx)("p",{children:null===j||void 0===j?void 0:j.bio})}),(0,m.jsxs)("div",{className:"profile-expertise",children:[(0,m.jsx)("h5",{children:"Specialties"}),(0,m.jsx)("div",{className:"expertise-tags",children:null!==j&&void 0!==j&&j.expertiseList&&null!==(u=j.expertiseList)&&void 0!==u&&u.length?null===(x=j.expertiseList)||void 0===x?void 0:x.map(((e,s)=>(0,m.jsx)("span",{className:"expertise-tag",children:e},s))):(0,m.jsx)("span",{className:"no-data",children:"No specialties listed"})})]}),(0,m.jsx)("div",{className:"profile-consultations",children:(0,m.jsx)(p.A,{consultations:U,showTitle:!0})}),(0,m.jsx)("div",{className:"profile-actions",children:(0,m.jsxs)("button",{onClick:()=>{N(!0)},className:"btn btn-primary edit-btn",children:[(0,m.jsx)(a.uO9,{})," Edit Profile"]})})]})]})})})})})]})})}}}]);
//# sourceMappingURL=530.24e418a2.chunk.js.map