"use strict";(self.webpackChunkdoctor_appointment_booking=self.webpackChunkdoctor_appointment_booking||[]).push([[530],{7514:(e,s,i)=>{i.d(s,{A:()=>a});i(5043);var l=i(579);const a=e=>{let{consultations:s,showTitle:i=!0,maxItems:a=null}=e;const n=a?s.slice(0,a):s;return(0,l.jsxs)("div",{className:"consultation-list-container",children:[i&&(0,l.jsx)("h5",{children:"Consultation Services"}),(0,l.jsx)("div",{className:"consultations-wrapper",children:n&&n.length>0?n.map(e=>(0,l.jsx)("div",{className:"consultation-item",children:(0,l.jsxs)("div",{className:"consultation-info",children:[(0,l.jsx)("h6",{className:"consultation-name",children:e.name}),(0,l.jsxs)("div",{className:"consultation-details",children:[(0,l.jsxs)("span",{className:"consultation-duration",children:[(0,l.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[(0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",fill:"currentColor"}),(0,l.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67V7z",fill:"currentColor"})]}),e.duration]}),(0,l.jsxs)("span",{className:"consultation-price",children:["\u20b9",e.price]})]}),e.description&&(0,l.jsx)("p",{className:"consultation-description",children:e.description})]})},e.id)):(0,l.jsxs)("div",{className:"empty-consultations",children:[(0,l.jsx)("p",{children:"No consultation services created yet."}),(0,l.jsx)("small",{children:"Create your first consultation service to get started."})]})}),s.length>a&&a&&(0,l.jsx)("div",{className:"more-consultations",children:(0,l.jsxs)("small",{children:["+",s.length-a," more services"]})})]})}},7530:(e,s,i)=>{i.r(s),i.d(s,{default:()=>u});var l=i(9379),a=i(5043),n=(i(8421),i(3204)),t=i(1660),o=i(3003),r=i(3401),c=i(4201),d=i(4749),p=i(9369),m=i(7514),h=i(579);const u=()=>{var e,s,i,u,x,v;const j=(0,o.wA)(),[f,g]=(0,a.useState)(null),[N,y]=(0,a.useState)(!1),[b,_]=(0,a.useState)(""),[C,A]=(0,a.useState)({display_name:"",title:"",hospital_name:"",expertiseList:[],experience:"",bio:"",photoUrl:"",phone:"",gender:"",location:{address:"",city:"",state:"",country:""}}),[w,S]=(0,a.useState)(""),{user:L,error:E,loading:F}=(0,o.d4)(e=>null===e||void 0===e?void 0:e.auth),{data:k,isLoading:U}=(0,d.X1)({}),{consultations:D}=(0,p.M)();(0,a.useEffect)(()=>{j((0,t.l2)())},[j]),(0,a.useEffect)(()=>{var e,s,i,a;(!F&&E&&(0,r.oR)(E.message),!L||E||F)||(g(L),A({display_name:L.display_name,title:L.title,hospital_name:L.hospital_name,expertiseList:L.expertiseList,experience:L.experience,bio:L.bio,photoUrl:"",phone:L.phone,gender:L.gender,services:k,location:{address:null===(e=L.location)||void 0===e?void 0:e.address,city:null===(s=L.location)||void 0===s?void 0:s.city,state:null===(i=L.location)||void 0===i?void 0:i.state,country:null===(a=L.location)||void 0===a?void 0:a.country}}),S(null===L||void 0===L?void 0:L.photoUrl));k&&A(e=>(0,l.A)((0,l.A)({},e),{},{services:k}))},[L,E,F,k]);const z=e=>{const{name:s,value:i}=e.target;"expertiseList"===s?A((0,l.A)((0,l.A)({},C),{},{expertiseList:[...C.expertiseList,i]})):["address","state","city","country"].includes(s)?A((0,l.A)((0,l.A)({},C),{},{location:(0,l.A)((0,l.A)({},C.location),{},{[s]:i})})):A("services"===s?(0,l.A)((0,l.A)({},C),{},{servicesIds:[...i]}):(0,l.A)((0,l.A)({},C),{},{[s]:i}))};return F||U?(0,h.jsx)("div",{className:"flex text-center justify-center",children:(0,h.jsx)(c.A,{size:150,color:"#18A0FB",loading:F})}):(0,h.jsx)("div",{id:"profile",children:(0,h.jsxs)("div",{className:"container",children:[(0,h.jsx)(r.N9,{}),(0,h.jsx)("div",{className:"row justify-content-center mt-4 center",children:(0,h.jsx)("div",{className:"col-md-10",children:(0,h.jsx)("div",{className:"card shadow-sm",children:(0,h.jsx)("div",{className:"card-body",children:N?(0,h.jsxs)("form",{onSubmit:async e=>{var s,i;e.preventDefault();const l=new FormData;l.append("display_name",String(C.display_name)),l.append("title",String(C.title)),l.append("phone",String(C.phone)),l.append("gender",String(C.gender)),l.append("bio",String(C.bio)),l.append("experience",Number(C.experience)),l.append("hospital_name",String(C.hospital_name)),C.location&&l.append("location",JSON.stringify(C.location)),null===C||void 0===C||null===(s=C.servicesIds)||void 0===s||s.forEach(e=>l.append("services[]",e)),null===C||void 0===C||null===(i=C.expertiseList)||void 0===i||i.forEach(e=>l.append("expertiseList[]",e)),C.photoUrl&&l.append("file",C.photoUrl);try{j((0,t.eg)(l)),y(!1)}catch(E){console.error("Updating profile failed:",E),400===(null===E||void 0===E?void 0:E.statusCode)?r.oR.error(E.message):r.oR.error("An error occurred while updating your profile.")}},encType:"multipart/form-data",className:"profile-form",children:[(0,h.jsx)("div",{className:"profile-image-edit-section",children:(0,h.jsxs)("div",{className:"current-profile-image",children:[(0,h.jsx)("img",{src:w||"/placeholder.png",alt:"Current profile",className:"edit-profile-image"}),(0,h.jsxs)("div",{className:"image-edit-overlay",children:[(0,h.jsxs)("label",{htmlFor:"file",className:"image-edit-btn",children:[(0,h.jsx)(n.uO9,{})," Change Photo"]}),(0,h.jsx)("input",{type:"file",className:"hidden-file-input",id:"file",name:"file",onChange:e=>{A(s=>(0,l.A)((0,l.A)({},s),{},{photoUrl:e.target.files[0]}))},accept:"image/*"})]})]})}),(0,h.jsxs)("div",{className:"form-row",children:[(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{htmlFor:"display_name",children:"Full Name"}),(0,h.jsx)("input",{type:"text",className:"form-control",id:"display_name",name:"display_name",value:(null===C||void 0===C?void 0:C.display_name)||"",onChange:z,placeholder:"Enter name"})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{htmlFor:"title",children:"Designation/Title"}),(0,h.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:(null===C||void 0===C?void 0:C.title)||"",onChange:z,placeholder:"Enter title"})]})]}),(0,h.jsxs)("div",{className:"form-row",children:[(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,h.jsx)("input",{type:"tel",className:"form-control",id:"phone",name:"phone",value:(null===C||void 0===C?void 0:C.phone)||"",onChange:z,placeholder:"Enter phone number"})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{htmlFor:"gender",children:"Gender"}),(0,h.jsxs)("select",{className:"form-control",id:"gender",name:"gender",value:(null===C||void 0===C?void 0:C.gender)||"",onChange:z,children:[(0,h.jsx)("option",{value:"",children:"Select gender"}),(0,h.jsx)("option",{value:"male",children:"Male"}),(0,h.jsx)("option",{value:"female",children:"Female"}),(0,h.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,h.jsxs)("div",{className:"form-group full-width",children:[(0,h.jsx)("label",{htmlFor:"bio",children:"Bio"}),(0,h.jsx)("textarea",{className:"form-control",id:"bio",name:"bio",value:(null===C||void 0===C?void 0:C.bio)||"",onChange:z,placeholder:"Tell us about yourself"})]}),(0,h.jsxs)("div",{className:"form-row",children:[(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{htmlFor:"experience",children:"Experience (Years)"}),(0,h.jsx)("input",{type:"text",className:"form-control",id:"experience",name:"experience",value:(null===C||void 0===C?void 0:C.experience)||"",onChange:z,placeholder:"Enter experience"})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{htmlFor:"hospital_name",children:"Hospital/Clinic Name"}),(0,h.jsx)("input",{type:"text",className:"form-control",id:"hospital_name",name:"hospital_name",value:(null===C||void 0===C?void 0:C.hospital_name)||"",onChange:z,placeholder:"Enter hospital or clinic name"})]})]}),(0,h.jsxs)("div",{className:"form-group full-width",children:[(0,h.jsx)("label",{htmlFor:"expertiseList",children:"Specialty/Expertise"}),(0,h.jsxs)("div",{className:"tags-input-wrapper",children:[(0,h.jsx)("div",{className:"tags",children:Array.isArray(null===C||void 0===C?void 0:C.expertiseList)&&C.expertiseList.map((e,s)=>(0,h.jsxs)("div",{className:"tag",children:[e,(0,h.jsx)("span",{className:"remove-tag",onClick:()=>{return e=s,void A((0,l.A)((0,l.A)({},C),{},{expertiseList:C.expertiseList.filter((s,i)=>i!==e)}));var e},children:"x"})]},s))}),(0,h.jsx)("input",{type:"text",value:b,onChange:e=>_(e.target.value),onKeyDown:e=>{var s;"Enter"===e.key&&""!==b.trim()&&(e.preventDefault(),A((0,l.A)((0,l.A)({},C),{},{expertiseList:null!==(s=C.expertiseList)&&void 0!==s&&s.length?[...C.expertiseList,b.trim()]:[b.trim()]})),_(""))},placeholder:"Press enter to add tags",className:"tagsInput"})]})]}),(0,h.jsxs)("div",{className:"form-section",children:[(0,h.jsx)("h5",{className:"section-title",children:"Address Information"}),(0,h.jsxs)("div",{className:"form-group full-width",children:[(0,h.jsx)("label",{htmlFor:"location_address",children:"Street Address"}),(0,h.jsx)("input",{type:"text",className:"form-control",id:"location_address",name:"address",value:(null===C||void 0===C||null===(e=C.location)||void 0===e?void 0:e.address)||"",onChange:z,placeholder:"Enter Address"})]}),(0,h.jsxs)("div",{className:"form-row",children:[(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{htmlFor:"location_city",children:"City"}),(0,h.jsx)("input",{type:"text",className:"form-control",id:"location_city",name:"city",value:(null===C||void 0===C||null===(s=C.location)||void 0===s?void 0:s.city)||"",onChange:z,placeholder:"Enter city"})]}),(0,h.jsxs)("div",{className:"form-group",children:[(0,h.jsx)("label",{htmlFor:"location_state",children:"State"}),(0,h.jsx)("input",{type:"text",className:"form-control",id:"location_state",name:"state",value:(null===C||void 0===C||null===(i=C.location)||void 0===i?void 0:i.state)||"",onChange:z,placeholder:"Enter state"})]})]}),(0,h.jsxs)("div",{className:"form-group full-width",children:[(0,h.jsx)("label",{htmlFor:"country",children:"Country"}),(0,h.jsx)("input",{type:"text",className:"form-control",id:"country",name:"country",value:(null===C||void 0===C||null===(u=C.location)||void 0===u?void 0:u.country)||"",onChange:z,placeholder:"Enter country"})]})]}),(0,h.jsxs)("div",{className:"form-group divided",children:[(0,h.jsx)("button",{type:"button",onClick:()=>y(!1),className:"btn btn-secondary cancel",children:"Cancel"}),(0,h.jsx)("button",{type:"submit",className:"btn btn-primary save",children:"Save"})]})]}):(0,h.jsxs)("div",{className:"profile-horizontal-layout",children:[(0,h.jsx)("div",{className:"profile-image-section",children:(0,h.jsx)("img",{src:w||"/placeholder.png",alt:"Doctor's profile",className:"profile-image"})}),(0,h.jsxs)("div",{className:"profile-info-section",children:[(0,h.jsxs)("div",{className:"profile-header",children:[(0,h.jsx)("h2",{className:"profile-name",children:null===f||void 0===f?void 0:f.display_name}),(0,h.jsx)("h4",{className:"profile-title",children:null===f||void 0===f?void 0:f.title}),(null===f||void 0===f?void 0:f.hospital_name)&&(0,h.jsx)("h5",{className:"profile-hospital",children:null===f||void 0===f?void 0:f.hospital_name}),(0,h.jsx)("div",{className:"profile-experience",children:(0,h.jsxs)("span",{className:"experience-badge",children:[null===f||void 0===f?void 0:f.experience,"+ years experience"]})})]}),(0,h.jsx)("div",{className:"profile-bio",children:(0,h.jsx)("p",{children:null===f||void 0===f?void 0:f.bio})}),(0,h.jsxs)("div",{className:"profile-expertise",children:[(0,h.jsx)("h5",{children:"Specialties"}),(0,h.jsx)("div",{className:"expertise-tags",children:null!==f&&void 0!==f&&f.expertiseList&&null!==(x=f.expertiseList)&&void 0!==x&&x.length?null===(v=f.expertiseList)||void 0===v?void 0:v.map((e,s)=>(0,h.jsx)("span",{className:"expertise-tag",children:e},s)):(0,h.jsx)("span",{className:"no-data",children:"No specialties listed"})})]}),(0,h.jsx)("div",{className:"profile-consultations",children:(0,h.jsx)(m.A,{consultations:D,showTitle:!0})}),(0,h.jsx)("div",{className:"profile-actions",children:(0,h.jsxs)("button",{onClick:()=>{y(!0)},className:"btn btn-primary edit-btn",children:[(0,h.jsx)(n.uO9,{})," Edit Profile"]})})]})]})})})})})]})})}}}]);
//# sourceMappingURL=530.dac0e274.chunk.js.map