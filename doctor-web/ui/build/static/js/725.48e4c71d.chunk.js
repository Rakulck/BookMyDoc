"use strict";(self.webpackChunkdoctor_appointment_booking=self.webpackChunkdoctor_appointment_booking||[]).push([[725],{6867:(e,s,a)=>{a.d(s,{A:()=>t});var n=a(4201),i=a(579);function t(e){return null!==e&&void 0!==e&&e.children?(0,i.jsxs)("div",{className:"d-flex flex-col justify-content-center align-items-center gap-1",children:[(0,i.jsx)(n.A,{height:25,color:"#18A0FB",...e}),(0,i.jsx)("strong",{children:null===e||void 0===e?void 0:e.children})]}):(0,i.jsx)(n.A,{height:25,color:"#18A0FB",...e})}},5725:(e,s,a)=>{a.r(s),a.d(s,{default:()=>h});var n=a(5043),i=a(3003),t=a(1462),c=a(7753),l=a(1660),o=a(3608),d=a(6867),r=a(579);const h=()=>{const e=(0,i.wA)(),{user:s,isAuthenticated:a,loading:h}=(0,i.d4)((e=>e.auth));(0,n.useEffect)((()=>{a&&!s&&e((0,l.l2)())}),[e,a,s]);const{data:m,isLoading:p}=(0,t.aE)({status:"all",limit:10}),{data:v,isLoading:x}=(0,c.eI)({}),j=m||[],g=v||[],u=(()=>{const e=new Date,s=new Date(e.setHours(0,0,0,0)),a=new Date(e.setHours(23,59,59,999)),n=j.filter((e=>{const n=new Date(e.appointmentDate);return n>=s&&n<=a})),i=j.filter((e=>"confirmed"===e.status)),t=j.filter((e=>"pending"===e.status)),c=j.filter((e=>"completed"===e.status));return{totalBookings:j.length,todayBookings:n.length,confirmedBookings:i.length,pendingBookings:t.length,completedBookings:c.length,availableSlots:g.length}})(),N=j.sort(((e,s)=>new Date(s.createdAt)-new Date(e.createdAt))).slice(0,5),f=j.filter((e=>new Date(e.appointmentDate)>new Date&&"confirmed"===e.status)).sort(((e,s)=>new Date(e.appointmentDate)-new Date(s.appointmentDate))).slice(0,3),D=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),A=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),b=e=>{switch(e){case"confirmed":return"badge-success";case"pending":return"badge-warning";case"completed":return"badge-info";case"cancelled":return"badge-danger";default:return"badge-secondary"}};return a?p||x||h?(0,r.jsx)(d.A,{}):(0,r.jsxs)("div",{className:"dashboard-container",children:[(0,r.jsxs)("div",{className:"welcome-section",children:[(0,r.jsxs)("div",{className:"welcome-content",children:[(0,r.jsxs)("h1",{children:["Welcome back, Dr."," ",(null===s||void 0===s?void 0:s.display_name)||(null===s||void 0===s?void 0:s.firstName)||"Doctor","!"]}),(0,r.jsx)("p",{className:"welcome-subtitle",children:"Here's what's happening with your practice today"})]}),(0,r.jsx)("div",{className:"welcome-date",children:(0,r.jsx)("span",{children:(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})]}),(0,r.jsxs)("div",{className:"stats-grid",children:[(0,r.jsxs)("div",{className:"stat-card stat-card-success",children:[(0,r.jsx)("div",{className:"stat-icon",children:(0,r.jsx)("i",{className:"fas fa-calendar-alt"})}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("h3",{children:u.totalBookings}),(0,r.jsx)("p",{children:"Total Bookings"})]})]}),(0,r.jsxs)("div",{className:"stat-card stat-card-primary",children:[(0,r.jsx)("div",{className:"stat-icon",children:(0,r.jsx)("i",{className:"fas fa-calendar-check"})}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("h3",{children:u.todayBookings}),(0,r.jsx)("p",{children:"Today's Appointments"})]})]}),(0,r.jsxs)("div",{className:"stat-card stat-card-warning",children:[(0,r.jsx)("div",{className:"stat-icon",children:(0,r.jsx)("i",{className:"fas fa-clock"})}),(0,r.jsxs)("div",{className:"stat-content",children:[(0,r.jsx)("h3",{children:u.pendingBookings}),(0,r.jsx)("p",{children:"Pending Approval"})]})]})]}),(0,r.jsxs)("div",{className:"dashboard-grid",children:[(0,r.jsxs)("div",{className:"dashboard-card",children:[(0,r.jsxs)("div",{className:"card-header",children:[(0,r.jsx)("h3",{children:"Upcoming Appointments"}),(0,r.jsx)("span",{className:"card-count",children:f.length})]}),(0,r.jsx)("div",{className:"card-content",children:f.length>0?(0,r.jsx)("div",{className:"appointments-list",children:f.map((e=>(0,r.jsxs)("div",{className:"appointment-item",children:[(0,r.jsxs)("div",{className:"appointment-time",children:[(0,r.jsx)("span",{className:"time",children:A(e.appointmentDate)}),(0,r.jsx)("span",{className:"date",children:D(e.appointmentDate)})]}),(0,r.jsxs)("div",{className:"appointment-details",children:[(0,r.jsx)("h4",{children:e.patientName||"Patient"}),(0,r.jsx)("p",{children:e.service||"General Consultation"})]}),(0,r.jsx)("div",{className:"appointment-status",children:(0,r.jsx)("span",{className:"status-badge ".concat(b(e.status)),children:e.status})})]},e.id)))}):(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("i",{className:"fas fa-calendar-times"}),(0,r.jsx)("p",{children:"No upcoming appointments"})]})})]}),(0,r.jsxs)("div",{className:"dashboard-card",children:[(0,r.jsxs)("div",{className:"card-header",children:[(0,r.jsx)("h3",{children:"Recent Bookings"}),(0,r.jsx)("span",{className:"card-count",children:N.length})]}),(0,r.jsx)("div",{className:"card-content",children:N.length>0?(0,r.jsx)("div",{className:"bookings-list",children:N.map((e=>(0,r.jsxs)("div",{className:"booking-item",children:[(0,r.jsxs)("div",{className:"booking-info",children:[(0,r.jsx)("h4",{children:e.patientName||"Patient"}),(0,r.jsxs)("p",{children:[D(e.appointmentDate)," at"," ",A(e.appointmentDate)]}),(0,r.jsx)("span",{className:"booking-service",children:e.service||"General Consultation"})]}),(0,r.jsx)("div",{className:"booking-status",children:(0,r.jsx)("span",{className:"status-badge ".concat(b(e.status)),children:e.status})})]},e.id)))}):(0,r.jsxs)("div",{className:"empty-state",children:[(0,r.jsx)("i",{className:"fas fa-inbox"}),(0,r.jsx)("p",{children:"No recent bookings"})]})})]}),(0,r.jsxs)("div",{className:"dashboard-card doctor-profile-card",children:[(0,r.jsx)("div",{className:"card-header",children:(0,r.jsx)("h3",{children:"Profile Overview"})}),(0,r.jsx)("div",{className:"card-content",children:(0,r.jsxs)("div",{className:"doctor-info",children:[(0,r.jsxs)("div",{className:"doctor-avatar",children:[(0,r.jsx)("img",{src:(()=>{if(console.log("\ud83d\uddbc\ufe0f [DASHBOARD] User object:",s),console.log("\ud83d\uddbc\ufe0f [DASHBOARD] PhotoUrl field:",null===s||void 0===s?void 0:s.photoUrl),console.log("\ud83d\uddbc\ufe0f [DASHBOARD] API Base URL:",o.J),null!==s&&void 0!==s&&s.photoUrl){if(s.photoUrl.startsWith("http"))return console.log("\ud83d\uddbc\ufe0f [DASHBOARD] Using full URL:",s.photoUrl),s.photoUrl;const e=s.photoUrl.startsWith("/")?s.photoUrl.substring(1):s.photoUrl,a="".concat(o.J).concat(e);return console.log("\ud83d\uddbc\ufe0f [DASHBOARD] Constructed image URL:",a),a}return console.log("\ud83d\uddbc\ufe0f [DASHBOARD] No photoUrl found, using placeholder"),"/placeholder.png"})(),alt:"Doctor Avatar",onError:e=>{console.log("\ud83d\uddbc\ufe0f [DASHBOARD] Image failed to load, using placeholder"),console.log("\ud83d\uddbc\ufe0f [DASHBOARD] Failed URL was:",e.target.src),e.target.src="/placeholder.png"},onLoad:()=>{console.log("\ud83d\uddbc\ufe0f [DASHBOARD] Image loaded successfully")}}),(0,r.jsx)("div",{className:"avatar-status",children:(0,r.jsx)("i",{className:"fas fa-circle"})})]}),(0,r.jsxs)("div",{className:"doctor-details",children:[(0,r.jsxs)("h4",{children:["Dr."," ",(null===s||void 0===s?void 0:s.display_name)||"".concat(null===s||void 0===s?void 0:s.firstName," ").concat(null===s||void 0===s?void 0:s.lastName)||"Doctor"]}),(0,r.jsx)("p",{className:"doctor-specialty",children:(null===s||void 0===s?void 0:s.title)||(null===s||void 0===s?void 0:s.specialty)||"General Medicine"}),(0,r.jsxs)("div",{className:"doctor-contact",children:[(0,r.jsxs)("div",{className:"contact-item",children:[(0,r.jsx)("i",{className:"fas fa-envelope"}),(0,r.jsx)("span",{children:null===s||void 0===s?void 0:s.email})]}),(0,r.jsxs)("div",{className:"contact-item",children:[(0,r.jsx)("i",{className:"fas fa-phone"}),(0,r.jsx)("span",{children:(null===s||void 0===s?void 0:s.phone)||"Phone not provided"})]}),(null===s||void 0===s?void 0:s.address)&&(0,r.jsxs)("div",{className:"contact-item",children:[(0,r.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,r.jsx)("span",{children:s.address})]})]}),(0,r.jsxs)("div",{className:"doctor-services",children:[(0,r.jsx)("strong",{children:"Services:"}),(0,r.jsxs)("div",{className:"services-list",children:[null!==s&&void 0!==s&&s.services&&s.services.length>0?s.services.slice(0,3).map(((e,s)=>(0,r.jsx)("span",{className:"service-tag",children:e.name||e},s))):(0,r.jsx)("span",{className:"no-services",children:"No services listed"}),(null===s||void 0===s?void 0:s.services)&&s.services.length>3&&(0,r.jsxs)("span",{className:"service-tag more-services",children:["+",s.services.length-3," more"]})]})]})]})]})})]})]})]}):(0,r.jsx)("div",{children:"Please log in to view the dashboard."})}}}]);
//# sourceMappingURL=725.48e4c71d.chunk.js.map