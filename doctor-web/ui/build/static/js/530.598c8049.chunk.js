"use strict";(self.webpackChunkdoctor_appointment_booking=self.webpackChunkdoctor_appointment_booking||[]).push([[530],{7530:(e,i,l)=>{l.r(i),l.d(i,{default:()=>p});var s=l(5043),a=(l(8421),l(3204)),n=l(1660),o=l(3003),t=l(3401),r=l(4201),d=l(4749),c=l(579);const p=()=>{var e,i,l,p,m,h;const v=(0,o.wA)(),[x,u]=(0,s.useState)(null),[j,f]=(0,s.useState)(!1),[g,N]=(0,s.useState)(""),[y,b]=(0,s.useState)({display_name:"",title:"",hospital_name:"",expertiseList:[],experience:"",bio:"",photoUrl:"",phone:"",gender:"",location:{address:"",city:"",state:"",country:""}}),[_,C]=(0,s.useState)(""),{user:L,error:S,loading:w}=(0,o.d4)((e=>null===e||void 0===e?void 0:e.auth)),{data:E,isLoading:F}=(0,d.X1)({});(0,s.useEffect)((()=>{v((0,n.l2)())}),[v]),(0,s.useEffect)((()=>{var e,i,l,s;(!w&&S&&(0,t.oR)(S.message),!L||S||w)||(u(L),b({display_name:L.display_name,title:L.title,hospital_name:L.hospital_name,expertiseList:L.expertiseList,experience:L.experience,bio:L.bio,photoUrl:"",phone:L.phone,gender:L.gender,services:E,location:{address:null===(e=L.location)||void 0===e?void 0:e.address,city:null===(i=L.location)||void 0===i?void 0:i.city,state:null===(l=L.location)||void 0===l?void 0:l.state,country:null===(s=L.location)||void 0===s?void 0:s.country}}),C(null===L||void 0===L?void 0:L.photoUrl));E&&b((e=>({...e,services:E})))}),[L,S,w,E]);const k=e=>{const{name:i,value:l}=e.target;"expertiseList"===i?b({...y,expertiseList:[...y.expertiseList,l]}):["address","state","city","country"].includes(i)?b({...y,location:{...y.location,[i]:l}}):b("services"===i?{...y,servicesIds:[...l]}:{...y,[i]:l})};return w||F?(0,c.jsx)("div",{className:"flex text-center justify-center",children:(0,c.jsx)(r.A,{size:150,color:"#18A0FB",loading:w})}):(0,c.jsx)("div",{id:"profile",children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)(t.N9,{}),(0,c.jsx)("div",{className:"row justify-content-center mt-4 center",children:(0,c.jsx)("div",{className:"col-md-10",children:(0,c.jsx)("div",{className:"card shadow-sm",children:(0,c.jsx)("div",{className:"card-body",children:j?(0,c.jsxs)("form",{onSubmit:async e=>{var i,l;e.preventDefault();const s=new FormData;s.append("display_name",String(y.display_name)),s.append("title",String(y.title)),s.append("phone",String(y.phone)),s.append("gender",String(y.gender)),s.append("bio",String(y.bio)),s.append("experience",Number(y.experience)),s.append("hospital_name",String(y.hospital_name)),y.location&&s.append("location",JSON.stringify(y.location)),null===y||void 0===y||null===(i=y.servicesIds)||void 0===i||i.forEach((e=>s.append("services[]",e))),null===y||void 0===y||null===(l=y.expertiseList)||void 0===l||l.forEach((e=>s.append("expertiseList[]",e))),y.photoUrl&&s.append("file",y.photoUrl);try{v((0,n.eg)(s)),f(!1)}catch(S){console.error("Updating profile failed:",S),400===(null===S||void 0===S?void 0:S.statusCode)?t.oR.error(S.message):t.oR.error("An error occurred while updating your profile.")}},encType:"multipart/form-data",className:"profile-form",children:[(0,c.jsx)("div",{className:"profile-image-edit-section",children:(0,c.jsxs)("div",{className:"current-profile-image",children:[(0,c.jsx)("img",{src:_||"/placeholder.png",alt:"Current profile",className:"edit-profile-image"}),(0,c.jsxs)("div",{className:"image-edit-overlay",children:[(0,c.jsxs)("label",{htmlFor:"file",className:"image-edit-btn",children:[(0,c.jsx)(a.uO9,{})," Change Photo"]}),(0,c.jsx)("input",{type:"file",className:"hidden-file-input",id:"file",name:"file",onChange:e=>{b((i=>({...i,photoUrl:e.target.files[0]})))},accept:"image/*"})]})]})}),(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"display_name",children:"Full Name"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"display_name",name:"display_name",value:(null===y||void 0===y?void 0:y.display_name)||"",onChange:k,placeholder:"Enter name"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"title",children:"Designation/Title"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:(null===y||void 0===y?void 0:y.title)||"",onChange:k,placeholder:"Enter title"})]})]}),(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,c.jsx)("input",{type:"tel",className:"form-control",id:"phone",name:"phone",value:(null===y||void 0===y?void 0:y.phone)||"",onChange:k,placeholder:"Enter phone number"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"gender",children:"Gender"}),(0,c.jsxs)("select",{className:"form-control",id:"gender",name:"gender",value:(null===y||void 0===y?void 0:y.gender)||"",onChange:k,children:[(0,c.jsx)("option",{value:"",children:"Select gender"}),(0,c.jsx)("option",{value:"male",children:"Male"}),(0,c.jsx)("option",{value:"female",children:"Female"}),(0,c.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,c.jsxs)("div",{className:"form-group full-width",children:[(0,c.jsx)("label",{htmlFor:"bio",children:"Bio"}),(0,c.jsx)("textarea",{className:"form-control",id:"bio",name:"bio",value:(null===y||void 0===y?void 0:y.bio)||"",onChange:k,placeholder:"Tell us about yourself"})]}),(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"experience",children:"Experience (Years)"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"experience",name:"experience",value:(null===y||void 0===y?void 0:y.experience)||"",onChange:k,placeholder:"Enter experience"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"hospital_name",children:"Hospital/Clinic Name"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"hospital_name",name:"hospital_name",value:(null===y||void 0===y?void 0:y.hospital_name)||"",onChange:k,placeholder:"Enter hospital or clinic name"})]})]}),(0,c.jsxs)("div",{className:"form-group full-width",children:[(0,c.jsx)("label",{htmlFor:"expertiseList",children:"Specialty/Expertise"}),(0,c.jsxs)("div",{className:"tags-input-wrapper",children:[(0,c.jsx)("div",{className:"tags",children:Array.isArray(null===y||void 0===y?void 0:y.expertiseList)&&y.expertiseList.map(((e,i)=>(0,c.jsxs)("div",{className:"tag",children:[e,(0,c.jsx)("span",{className:"remove-tag",onClick:()=>{return e=i,void b({...y,expertiseList:y.expertiseList.filter(((i,l)=>l!==e))});var e},children:"x"})]},i)))}),(0,c.jsx)("input",{type:"text",value:g,onChange:e=>N(e.target.value),onKeyDown:e=>{var i;"Enter"===e.key&&""!==g.trim()&&(e.preventDefault(),b({...y,expertiseList:null!==(i=y.expertiseList)&&void 0!==i&&i.length?[...y.expertiseList,g.trim()]:[g.trim()]}),N(""))},placeholder:"Press enter to add tags",className:"tagsInput"})]})]}),(0,c.jsxs)("div",{className:"form-section",children:[(0,c.jsx)("h5",{className:"section-title",children:"Address Information"}),(0,c.jsxs)("div",{className:"form-group full-width",children:[(0,c.jsx)("label",{htmlFor:"location_address",children:"Street Address"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"location_address",name:"address",value:(null===y||void 0===y||null===(e=y.location)||void 0===e?void 0:e.address)||"",onChange:k,placeholder:"Enter Address"})]}),(0,c.jsxs)("div",{className:"form-row",children:[(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"location_city",children:"City"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"location_city",name:"city",value:(null===y||void 0===y||null===(i=y.location)||void 0===i?void 0:i.city)||"",onChange:k,placeholder:"Enter city"})]}),(0,c.jsxs)("div",{className:"form-group",children:[(0,c.jsx)("label",{htmlFor:"location_state",children:"State"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"location_state",name:"state",value:(null===y||void 0===y||null===(l=y.location)||void 0===l?void 0:l.state)||"",onChange:k,placeholder:"Enter state"})]})]}),(0,c.jsxs)("div",{className:"form-group full-width",children:[(0,c.jsx)("label",{htmlFor:"country",children:"Country"}),(0,c.jsx)("input",{type:"text",className:"form-control",id:"country",name:"country",value:(null===y||void 0===y||null===(p=y.location)||void 0===p?void 0:p.country)||"",onChange:k,placeholder:"Enter country"})]})]}),(0,c.jsxs)("div",{className:"form-group divided",children:[(0,c.jsx)("button",{type:"button",onClick:()=>f(!1),className:"btn btn-secondary cancel",children:"Cancel"}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary save",children:"Save"})]})]}):(0,c.jsxs)("div",{className:"profile-horizontal-layout",children:[(0,c.jsx)("div",{className:"profile-image-section",children:(0,c.jsx)("img",{src:_||"/placeholder.png",alt:"Doctor's profile",className:"profile-image"})}),(0,c.jsxs)("div",{className:"profile-info-section",children:[(0,c.jsxs)("div",{className:"profile-header",children:[(0,c.jsx)("h2",{className:"profile-name",children:null===x||void 0===x?void 0:x.display_name}),(0,c.jsx)("h4",{className:"profile-title",children:null===x||void 0===x?void 0:x.title}),(null===x||void 0===x?void 0:x.hospital_name)&&(0,c.jsx)("h5",{className:"profile-hospital",children:null===x||void 0===x?void 0:x.hospital_name}),(0,c.jsx)("div",{className:"profile-experience",children:(0,c.jsxs)("span",{className:"experience-badge",children:[null===x||void 0===x?void 0:x.experience,"+ years experience"]})})]}),(0,c.jsx)("div",{className:"profile-bio",children:(0,c.jsx)("p",{children:null===x||void 0===x?void 0:x.bio})}),(0,c.jsxs)("div",{className:"profile-expertise",children:[(0,c.jsx)("h5",{children:"Specialties"}),(0,c.jsx)("div",{className:"expertise-tags",children:null!==x&&void 0!==x&&x.expertiseList&&null!==(m=x.expertiseList)&&void 0!==m&&m.length?null===(h=x.expertiseList)||void 0===h?void 0:h.map(((e,i)=>(0,c.jsx)("span",{className:"expertise-tag",children:e},i))):(0,c.jsx)("span",{className:"no-data",children:"No specialties listed"})})]}),(0,c.jsx)("div",{className:"profile-actions",children:(0,c.jsxs)("button",{onClick:()=>{f(!0)},className:"btn btn-primary edit-btn",children:[(0,c.jsx)(a.uO9,{})," Edit Profile"]})})]})]})})})})})]})})}}}]);
//# sourceMappingURL=530.598c8049.chunk.js.map